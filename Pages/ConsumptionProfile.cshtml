@page
@model EnergyTariffAdvisor.Pages.ConsumptionProfileModel
@{
    ViewData["Title"] = "Consumption Profile Input";
}

<h2>Enter your consumption profile (30-minute intervals)</h2>

<form method="post">
    <button type="button" id="fillDefaultBtn">Fill with default values</button>
    <table>
        <thead>
            <tr>
                <th>Interval</th>
                <th>Consumption (kWh)</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < 48; i++)
            {
                <tr>
                    <td>@($"{i / 2:D2}:{(i % 2) * 30:D2} - {i / 2:D2}:{((i % 2 + 1) * 30) % 60:D2}")</td>
                    <td>
                        <input type="number" step="0.01" min="0"
                               name="ConsumptionValues[@i]"
                               value="@(Model.ConsumptionValues != null && Model.ConsumptionValues.Count > i ? Model.ConsumptionValues[i] : 0)" />
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <button type="submit">Calculate</button>
</form>
<script>
    document.getElementById('fillDefaultBtn').addEventListener('click', function () {
        for (let i = 0; i < 48; i++) {
            let input = document.getElementsByName(`ConsumptionValues[${i}]`)[0];
            if (input) {
                input.value = 0.5; // example default value
            }
        }
    });
</script>